/* src/styles/pages/blog-category.css
   Blog category page – hero + 4/2/1 card grid
   All styles are scoped to [data-section="blog-category"].
*/

/* --- Hero --- */

[data-section="blog-category"] .bcat-hero {
  padding-block: clamp(var(--space-7), 6vw, var(--space-10));
}

/* Hero layout: mobile-first stack, split layout on larger screens */
[data-section="blog-category"] .bcat-hero__inner {
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
  align-items: flex-start;
}

@media (min-width: 768px) {
  [data-section="blog-category"] .bcat-hero__inner {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-8);
  }
}

[data-section="blog-category"] .bcat-hero__copy {
  max-width: 38rem;
  display: grid;
  gap: var(--space-2);
}

[data-section="blog-category"] .bcat-hero__eyebrow {
  margin: 0;
  font-size: var(--fs-xs);
  text-transform: uppercase;
  letter-spacing: 0.14em;
  color: color-mix(
    in oklab,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 82%,
    var(--color-text-muted, #6b7280)
  );
}

/* h1 uses global .h1 / .section-title sizing; we only set color + margin */
[data-section="blog-category"] .bcat-hero__title {
  margin: 0;
  color: color-mix(
    in oklab,
    var(--color-primary-strong, var(--color-primary, #1b3637)) 80%,
    var(--color-heading, #020617)
  );
}

[data-section="blog-category"] .bcat-hero__lede {
  margin: 0;
  font-size: var(--fs-md);
  line-height: 1.6;
  color: color-mix(
    in oklab,
    var(--color-text, #020617) 86%,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 14%
  );
}

/* Meta + pill */

[data-section="blog-category"] .bcat-hero__meta {
  margin: 0;
  margin-top: var(--space-2);
  font-size: var(--fs-sm);
}

[data-section="blog-category"] .bcat-hero__metaPill {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;

  padding-inline: 0.9rem;
  padding-block: 0.25rem;

  border-radius: 999px;
  font-size: 0.75rem;
  font-weight: 600;
  letter-spacing: 0.08em;
  text-transform: uppercase;

  background-color: color-mix(
    in oklab,
    var(--color-surface-alt, #f9fafb) 84%,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 16%
  );
  border: 1px solid
    color-mix(
      in oklab,
      var(--color-border-subtle, #e5e7eb) 90%,
      var(--color-primary-soft, var(--color-primary, #1b3637)) 10%
    );
  color: color-mix(
    in oklab,
    var(--color-text, #020617) 78%,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 22%
  );
}

[data-section="blog-category"] .bcat-hero__media {
  width: 100%;
  max-width: 32rem; /* increased to better balance hero layout */
  margin: 0;
}

[data-section="blog-category"] .bcat-hero__media img {
  width: 100%;
  height: auto;
  display: block;
  border-radius: var(--radius-2xl, 1.25rem);
  box-shadow: var(--shadow-lg, 0 22px 60px rgba(15, 23, 42, 0.18));
  object-fit: cover;
}

/* --- Feed band --- */

[data-section="blog-category"] .bcat-feed {
  /* vertical gap of “two rows” before and after the latest blog section */
  margin-block: var(--space-8);
  padding-block: clamp(var(--space-7), 5vw, var(--space-10));
  background-color: color-mix(
    in oklab,
    var(--color-surface-alt, #f3f4f6) 92%,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 8%
  );
  /* Soft top border to visually separate hero and feed */
  border-top: 1px solid
    color-mix(
      in oklab,
      var(--color-border-subtle, #e5e7eb) 85%,
      var(--color-primary-soft, var(--color-primary, #1b3637)) 15%
    );
}

/* Inner container: let .container handle outer width, this keeps the feed
   visually aligned with the rest of the site content. */
[data-section="blog-category"] .bcat-feed__container {
  max-width: 88rem; /* slightly wider so cards feel broader */
  margin-inline: auto;
  padding-inline: 0;
}

/* Feed header */

[data-section="blog-category"] .bcat-feed__head {
  display: grid;
  gap: var(--space-2);
  margin-bottom: var(--space-5);
}

[data-section="blog-category"] .bcat-feed__eyebrow {
  margin: 0;
  font-size: var(--fs-xs);
  text-transform: uppercase;
  letter-spacing: 0.09em;
  color: color-mix(
    in oklab,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 80%,
    var(--color-text-muted, #6b7280)
  );
}

[data-section="blog-category"] .bcat-feed__title {
  margin: 0;
  color: color-mix(
    in oklab,
    var(--color-primary-strong, var(--color-primary, #1b3637)) 80%,
    var(--color-heading, #020617)
  );
}

/* --- Grid layout: 1 / 2 / 4 columns --- */

[data-section="blog-category"] .bcat-grid {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr)); /* 1 on mobile */
  gap: 1.7rem;                                      /* slightly tighter */
  justify-content: center;
  list-style: none;
  padding: 0;
  margin: 0;
}

@media (min-width: 640px) {
  [data-section="blog-category"] .bcat-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr)); /* 2 on tablet */
    gap: 1.9rem;                                      /* reduced gap */
  }
}

@media (min-width: 1024px) {
  [data-section="blog-category"] .bcat-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr)); /* 4 on desktop */
    gap: 1.9rem;                                      /* reduced horizontal gap */
    padding-inline: 0.15rem;                          /* less side padding so cards appear wider */
  }
}

/* --- Card --- */

[data-section="blog-category"] .bcat-card {
  display: grid;
  grid-template-rows: auto 1fr;

  background-color: var(--color-surface, #ffffff);
  border-radius: var(--radius-2xl, 1.25rem);
  border: 1px solid
    color-mix(
      in oklab,
      var(--color-border-subtle, #e5e7eb) 88%,
      var(--color-primary-soft, var(--color-primary, #1b3637)) 12%
    );
  box-shadow: var(--shadow-sm, 0 12px 30px rgba(15, 23, 42, 0.06));

  overflow: hidden;
  transition:
    transform 0.16s ease-out,
    box-shadow 0.16s ease-out,
    border-color 0.16s ease-out,
    background-color 0.16s ease-out;
}

[data-section="blog-category"] .bcat-card:hover,
[data-section="blog-category"] .bcat-card:focus-within {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md, 0 18px 45px rgba(15, 23, 42, 0.1));
  border-color: color-mix(
    in oklab,
    var(--color-primary, #1b3637) 45%,
    var(--color-border-subtle, #e5e7eb)
  );
  background-color: color-mix(
    in oklab,
    var(--color-surface, #ffffff) 94%,
    var(--color-surface-alt, #f3f4f6) 6%
  );
}

/* Media */

[data-section="blog-category"] .bcat-card__media {
  display: block;
  background-color: color-mix(
    in oklab,
    var(--color-surface-alt, #f3f4f6) 90%,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 10%
  );
  border-bottom: 1px solid
    color-mix(
      in oklab,
      var(--color-border-subtle, #e5e7eb) 90%,
      var(--color-primary-soft, var(--color-primary, #1b3637)) 10%
    );
}

[data-section="blog-category"] .bcat-card__media img {
  width: 100%;
  height: auto;
  display: block;
  object-fit: cover;
  aspect-ratio: 16 / 9;
  transition: transform 0.22s ease-out;
}

@media (hover: hover) {
  [data-section="blog-category"] .bcat-card:hover .bcat-card__media img,
  [data-section="blog-category"] .bcat-card:focus-within
    .bcat-card__media
    img {
    transform: scale(1.03);
  }
}

/* Empty media placeholder */

[data-section="blog-category"] .bcat-card__media--empty {
  aspect-ratio: 16 / 9;
  background:
    repeating-linear-gradient(
      45deg,
      color-mix(in oklab, var(--color-primary-soft, #1b3637) 8%, #ffffff),
      color-mix(in oklab, var(--color-primary-soft, #1b3637) 8%, #ffffff) 8px,
      color-mix(in oklab, var(--color-primary-soft, #1b3637) 14%, #ffffff) 8px,
      color-mix(in oklab, var(--color-primary-soft, #1b3637) 14%, #ffffff) 16px
    );
  border-bottom: 1px solid
    color-mix(
      in oklab,
      var(--color-border-subtle, #e5e7eb) 90%,
      var(--color-primary-soft, #1b3637) 10%
    );
}

/* Card body – compact, with slightly reduced side padding */

[data-section="blog-category"] .bcat-card__body {
  display: grid;
  gap: 0.7rem; /* tighter vertical rhythm inside card */
  padding-block: clamp(1.05rem, 2vw, 1.4rem);
  padding-inline: clamp(0.75rem, 1.3vw, 1.1rem);
}

/* Category label */

[data-section="blog-category"] .bcat-card__cat {
  margin: 0;
}

[data-section="blog-category"] .bcat-card__cat a {
  display: inline-flex;
  align-items: center;
  padding-block: 0.15rem;
  padding-inline: 0.7rem 0.3rem;

  border-left: 3px solid
    color-mix(
      in oklab,
      var(--color-primary, #1b3637) 75%,
      var(--color-accent, #d4ab18) 25%
    );
  background-color: color-mix(
    in oklab,
    var(--color-surface, #ffffff) 96%,
    var(--color-surface-alt, #f9fafb) 4%
  );
  color: color-mix(
    in oklab,
    var(--color-primary, #1b3637) 80%,
    var(--color-text, #020617)
  );

  font-size: 0.7rem;
  font-weight: 600;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  text-decoration: none;

  transition:
    background-color 0.14s ease-out,
    color 0.14s ease-out,
    border-color 0.14s ease-out;
}

[data-section="blog-category"] .bcat-card__cat a:hover,
[data-section="blog-category"] .bcat-card__cat a:focus-visible {
  background-color: color-mix(
    in oklab,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 16%,
    var(--color-surface, #ffffff)
  );
  color: color-mix(
    in oklab,
    var(--color-primary, #1b3637) 88%,
    var(--color-text, #020617)
  );
  border-color: color-mix(
    in oklab,
    var(--color-primary, #1b3637) 80%,
    var(--color-accent, #d4ab18) 20%
  );
  outline: none;
}

/* Title & link */

[data-section="blog-category"] .bcat-card__title {
  margin: 0;
  font-weight: 700;
  line-height: 1.3;
  font-size: clamp(var(--fs-md), 1.9vw, var(--fs-lg));
  color: var(--color-text, #020617);
}

[data-section="blog-category"] .bcat-card__link {
  color: inherit;
  text-decoration: none;
}

[data-section="blog-category"] .bcat-card__link:hover,
[data-section="blog-category"] .bcat-card__link:focus-visible {
  color: color-mix(
    in oklab,
    var(--color-primary, #1b3637) 88%,
    var(--color-text, #020617)
  );
}

/* Excerpt – clamp to 3 lines */

[data-section="blog-category"] .bcat-card__excerpt {
  margin: 0;
  font-size: var(--fs-sm);
  color: color-mix(
    in oklab,
    var(--color-text, #020617) 82%,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 18%
  );
  line-height: 1.45;
  max-height: calc(1.45em * 3); /* hard cap at 3 lines */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3 !important; /* override any global clamp-3 rule */
  overflow: hidden;
}

/* Meta pills */

[data-section="blog-category"] .bcat-card__meta {
  margin: 0;
  display: inline-flex;
  flex-wrap: wrap;
  gap: 0.35rem;
}

[data-section="blog-category"] .bcat-card__metaPill {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;

  padding-inline: 0.6rem;
  padding-block: 0.2rem;

  border-radius: 999px;
  font-size: 0.7rem;
  font-weight: 500;

  background-color: color-mix(
    in oklab,
    var(--color-surface-alt, #f9fafb) 82%,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 18%
  );
  border: 1px solid
    color-mix(
      in oklab,
      var(--color-border-subtle, #e5e7eb) 92%,
      var(--color-primary-soft, var(--color-primary, #1b3637)) 8%
    );
  color: color-mix(
    in oklab,
    var(--color-text, #020617) 78%,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 22%
  );
}

[data-section="blog-category"] .bcat-card__metaPill--date::before {
  content: "●";
  font-size: 0.55rem;
}

[data-section="blog-category"] .bcat-card__metaPill--read::before {
  content: "⏱";
  font-size: 0.6rem;
}

/* --- Feed actions --- */

[data-section="blog-category"] .bcat-feed__actions {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  margin-top: var(--space-6);
}

[data-section="blog-category"] .bcat-feed__more {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;

  min-height: 2.75rem;
  padding-inline: var(--space-4);

  border-radius: 999px;
  background-color: var(--color-primary, #1b3637);
  color: var(--color-on-primary, #ffffff);
  border: 1px solid
    color-mix(
      in oklab,
      var(--color-primary, #1b3637) 40%,
      transparent
    );
  box-shadow: var(--shadow-sm);

  font-size: var(--fs-sm);
  font-weight: 600;
  text-decoration: none;

  transition:
    background-color 0.15s ease-out,
    box-shadow 0.15s ease-out,
    transform 0.12s ease-out;
}

[data-section="blog-category"] .bcat-feed__more:hover {
  background-color: color-mix(
    in oklab,
    var(--color-primary, #1b3637) 92%,
    #000000
  );
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

[data-section="blog-category"] .bcat-feed__more:focus-visible {
  outline: 2px solid var(--color-primary, #1b3637);
  outline-offset: 2px;
}

/* Reduced motion */

@media (prefers-reduced-motion: reduce) {
  [data-section="blog-category"] .bcat-card,
  [data-section="blog-category"] .bcat-card__media img,
  [data-section="blog-category"] .bcat-feed__more {
    transition: none;
    transform: none;
  }
}

/* src/styles/prose.css */
/* Prose defaults for rich article body content
   - Scoped to .prose to avoid global overrides
   - Mobile-first, token-driven, no underline decorations
*/

.prose {
  color: var(--color-neutral-600);
  font-family: var(--font-sans);
  font-size: var(--fs-base);
  line-height: 1.7;
  max-width: 70ch;
}

/* Vertical rhythm inside prose blocks */
.prose > * + * {
  margin-block-start: var(--space-4);
}

/* Headings inside prose (subordinate to page H1) */

.prose h2 {
  margin: var(--space-8) 0 var(--space-3);
  font-weight: 700;
  font-size: clamp(var(--fs-xl), 2.6vw, var(--fs-3xl));
  line-height: 1.25;
  letter-spacing: -0.01em;
  color: var(--color-primary); /* Deep Green for prose section headings */
  text-wrap: balance;
}

.prose h3 {
  margin: var(--space-6) 0 var(--space-2);
  font-weight: 700;
  font-size: clamp(var(--fs-lg), 2.2vw, var(--fs-2xl));
  line-height: 1.3;
  color: var(--color-primary); /* Deep Green for subsection headings */
  text-wrap: balance;
}

/* Paragraphs */

.prose p {
  margin: 0;
  margin-bottom: var(--space-4);
  line-height: 1.75;
  color: var(--color-neutral-600); /* Primary body colour (Neutral 600) */
}

/* Lists */

.prose ul,
.prose ol {
  margin: 0 0 var(--space-4);
  padding-left: var(--space-6);
}

.prose li + li {
  margin-top: var(--space-2);
}

/* Blockquotes */

.prose blockquote {
  margin: var(--space-4) 0;
  padding-left: var(--space-3);
  border-left: 3px solid
    color-mix(in oklab, var(--color-primary) 10%, var(--color-neutral-100));
  color: var(--color-neutral-600); /* Strong, readable quote text */
  font-style: italic;
}

/* Links â€“ no underline, consistent with site-wide link treatment */

.prose a {
  color: var(--color-primary);
  text-decoration: none !important;
  border-bottom: none;
  transition:
    color 0.18s ease-out,
    background-color 0.18s ease-out,
    box-shadow 0.18s ease-out;
}

.prose a:hover,
.prose a:focus-visible {
  text-decoration: none !important;
  color: var(--color-primary-hover);
  background-color: color-mix(
    in oklab,
    var(--color-primary) 6%,
    var(--color-surface)
  );
  box-shadow: var(--shadow-xs);
}

/* Inline code */

.prose code {
  font-family: var(
    --font-mono,
    ui-monospace,
    SFMono-Regular,
    Menlo,
    Monaco,
    Consolas,
    "Liberation Mono",
    "Courier New",
    monospace
  );
  font-weight: 500;
  font-size: 0.95em;
  line-height: 1.6;
  padding: 0 0.25em;
  border-radius: var(--radius-sm);
  background-color: color-mix(
    in oklab,
    var(--color-light) 70%,
    var(--color-background)
  );
}

/* Code blocks */

.prose pre {
  margin: var(--space-4) 0;
  padding: var(--space-3);
  overflow: auto;
  background: var(--color-light-alt);
  border-radius: var(--radius-md);
  font-family: var(
    --font-mono,
    ui-monospace,
    SFMono-Regular,
    Menlo,
    Monaco,
    Consolas,
    "Liberation Mono",
    "Courier New",
    monospace
  );
  font-size: 0.9375rem;
  line-height: 1.6;
}

/* Reduced motion */

@media (prefers-reduced-motion: reduce) {
  .prose a {
    transition: none;
    box-shadow: none;
  }
}

/* src/components/blog/compose/CategoryGrid/CategoryGrid.css
   Premium category grid – 1/2/4 responsive layout, equal-height cards
   - Uses CVWriting deep green primary + soft neutral/“gold” accents
   - Minimal, calm visuals; aligned to global .container width
*/

/* SECTION WRAPPER
   ------------------------------------------------------------------ */

.catgrid {
  /* Internal band padding; vertical spacing between sections comes from .section */
  padding-block: clamp(var(--space-6), 3vw, var(--space-10));

  /* Soft premium band, harmonised with TestimonialsCaseStudiesSection */
  background:
    radial-gradient(
      circle at 0% 0%,
      color-mix(
        in oklab,
        var(--color-primary-soft, var(--color-primary, #1b3637)) 12%,
        transparent
      ),
      transparent 55%
    ),
    radial-gradient(
      circle at 100% 100%,
      color-mix(
        in oklab,
        var(--color-accent-soft, var(--color-accent, #d4ab18)) 10%,
        transparent
      ),
      transparent 65%
    ),
    linear-gradient(
      180deg,
      color-mix(
        in oklab,
        var(--color-surface-alt, #f9fafb) 96%,
        #ffffff 4%
      ),
      color-mix(
        in oklab,
        var(--color-surface-alt, #f3f4f6) 92%,
        transparent
      )
    );

  border-block-start: 1px solid
    color-mix(
      in oklab,
      var(--color-primary, #1b3637) 14%,
      var(--color-surface-alt, #f3f4f6)
    );
  border-block-end: 1px solid
    color-mix(
      in oklab,
      var(--color-border-subtle, #e5e7eb) 88%,
      var(--color-primary-soft, var(--color-primary, #1b3637)) 12%
    );
}

/* Slightly denser variant for use in tighter layouts (e.g. category pages) */
.catgrid--compact {
  padding-block: clamp(var(--space-5), 2.5vw, var(--space-8));
}

.catgrid--compact .catgrid__head {
  margin-bottom: clamp(var(--space-3), 1.5vw, var(--space-4));
}

/* Header – left-aligned, eyebrow directly above title, inside container */
.catgrid__head {
  margin-bottom: clamp(var(--space-4), 2vw, var(--space-5));
  gap: var(--space-2);

  display: flex;
  flex-direction: column;
  align-items: flex-start;
  text-align: left;
}

.catgrid__eyebrow {
  margin: 0;
  font-size: var(--fs-xs);
  text-transform: uppercase;
  letter-spacing: 0.12em;
  font-weight: 600;

  /* Warm primary-soft + accent tint for a subtle “editorial rubric” feel */
  color: color-mix(
    in oklab,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 55%,
    color-mix(
      in oklab,
      var(--color-accent-soft, var(--color-accent, #d4ab18)) 25%,
      var(--color-muted, #6b7280)
    )
  );
}

/* h2 section title + underline accent */
.catgrid__title {
  margin: 0;
  width: 100%;
  max-width: 100%;
  font-weight: 800;
  line-height: 1.15;
  font-size: clamp(var(--fs-xl), 3.2vw, var(--fs-3xl));
  letter-spacing: 0.01em;
  text-align: left;

  color: color-mix(
    in oklab,
    var(--color-primary-strong, var(--color-primary, #1b3637)) 80%,
    var(--color-text, #020617)
  );

  position: relative;
  padding-bottom: var(--space-2);
}

.catgrid__title::after {
  content: "";
  position: absolute;
  inset-inline-start: 0;
  bottom: 0;
  width: 3.5rem;
  height: 3px;
  border-radius: 999px;
  background: linear-gradient(
    90deg,
    var(--color-primary, #1b3637),
    color-mix(
      in oklab,
      var(--color-accent, #d4ab18) 78%,
      var(--color-primary, #1b3637)
    )
  );
}

/* GRID LIST
   ------------------------------------------------------------------ */

.cat-grid {
  --grid-gap: clamp(var(--space-4), 1.5vw, var(--space-6));

  list-style: none;
  margin: 0;
  padding: 0;

  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: var(--grid-gap);
  align-items: stretch;
}

/* ≥ tablet: 2 cards per row */
@media (min-width: 640px) {
  .cat-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

/* ≥ desktop: 4 cards per row */
@media (min-width: 1024px) {
  .cat-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

/* CARD VARIANTS
   ------------------------------------------------------------------ */

.cat {
  --card-border-color: color-mix(
    in oklab,
    var(--color-border-subtle, #e5e7eb) 90%,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 10%
  );
  --card-icon-bg: color-mix(
    in oklab,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 14%,
    var(--color-surface, #ffffff)
  );

  height: 100%;
  width: 100%;
}

/* Primary-leaning category */
.cat--a {
  --card-border-color: color-mix(
    in oklab,
    var(--color-primary, #1b3637) 30%,
    var(--color-border-subtle, #e5e7eb)
  );
  --card-icon-bg: color-mix(
    in oklab,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 26%,
    var(--color-surface, #ffffff)
  );
}

/* Accent/“gold” category */
.cat--b {
  --card-border-color: color-mix(
    in oklab,
    var(--color-accent, #d4ab18) 28%,
    var(--color-border-subtle, #e5e7eb)
  );
  --card-icon-bg: color-mix(
    in oklab,
    var(--color-accent-soft, var(--color-accent, #d4ab18)) 26%,
    var(--color-surface, #ffffff)
  );
}

/* Info-tinted category */
.cat--c {
  --card-border-color: color-mix(
    in oklab,
    var(--color-info, #0ea5e9) 22%,
    var(--color-border-subtle, #e5e7eb)
  );
  --card-icon-bg: color-mix(
    in oklab,
    var(--color-info, #0ea5e9) 18%,
    var(--color-surface, #ffffff)
  );
}

/* Success-tinted category */
.cat--d {
  --card-border-color: color-mix(
    in oklab,
    var(--color-success, #22c55e) 24%,
    var(--color-border-subtle, #e5e7eb)
  );
  --card-icon-bg: color-mix(
    in oklab,
    var(--color-success, #22c55e) 18%,
    var(--color-surface, #ffffff)
  );
}

/* Active/selected state */
.cat--active .cat__link {
  border-color: color-mix(
    in oklab,
    var(--color-primary, #1b3637) 80%,
    var(--color-accent-soft, var(--color-accent, #d4ab18)) 20%
  );
  box-shadow: var(--shadow-md, 0 18px 40px rgb(15 23 42 / 0.14));
  background:
    radial-gradient(
      circle at 0% 0%,
      color-mix(
        in oklab,
        var(--color-primary-soft, var(--color-primary, #1b3637)) 20%,
        transparent
      ),
      transparent 55%
    ),
    linear-gradient(
      135deg,
      color-mix(
        in oklab,
        var(--color-surface, #ffffff) 95%,
        transparent
      ),
      color-mix(
        in oklab,
        var(--color-surface-alt, #f3f4f6) 94%,
        transparent
      )
    );
}

.cat--active .cat__count {
  background: color-mix(
    in oklab,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 26%,
    var(--color-surface-alt, #f9fafb) 74%
  );
  color: color-mix(
    in oklab,
    var(--color-primary-strong, var(--color-primary, #1b3637)) 82%,
    var(--color-muted, #6b7280)
  );
}

/* CARD LINK
   ------------------------------------------------------------------ */

.cat__link {
  display: grid;
  grid-template-rows: auto 1fr auto;
  grid-template-columns: 1fr;
  align-items: start;
  gap: var(--space-3);

  padding: clamp(var(--space-4), 1.25vw + 0.5rem, var(--space-6));
  height: 100%;

  border-radius: var(--radius-xl);
  border: 1px solid var(--card-border-color);
  background:
    radial-gradient(
      circle at 0% 0%,
      color-mix(
        in oklab,
        var(--color-primary-soft, var(--color-primary, #1b3637)) 12%,
        transparent
      ),
      transparent 55%
    ),
    linear-gradient(
      135deg,
      var(--color-surface, #ffffff),
      color-mix(
        in oklab,
        var(--color-surface-alt, #f3f4f6) 94%,
        transparent
      )
    );
  box-shadow: var(--shadow-sm, 0 10px 25px rgb(15 23 42 / 0.06));

  color: var(--color-text, #020617);
  text-decoration: none;

  width: 100%;
  max-width: none;
  margin: 0;
  justify-self: stretch;

  transition:
    transform 0.16s ease,
    box-shadow 0.16s ease,
    border-color 0.16s ease,
    background-color 0.16s ease,
    color 0.16s ease;
}

.cat__link:hover {
  transform: translateY(-2px);
  border-color: color-mix(
    in oklab,
    var(--color-primary, #1b3637) 82%,
    var(--color-accent-soft, var(--color-accent, #d4ab18)) 18%
  );
  box-shadow: var(--shadow-md, 0 18px 40px rgb(15 23 42 / 0.12));
  background:
    radial-gradient(
      circle at 0% 0%,
      color-mix(
        in oklab,
        var(--color-primary-soft, var(--color-primary, #1b3637)) 18%,
        transparent
      ),
      transparent 55%
    ),
    linear-gradient(
      135deg,
      color-mix(
        in oklab,
        var(--color-surface, #ffffff) 94%,
        transparent
      ),
      color-mix(
        in oklab,
        var(--color-surface-alt, #f3f4f6) 92%,
        transparent
      )
    );
}

.cat__link:focus-visible {
  outline: 2px solid color-mix(
    in oklab,
    var(--color-primary, #1b3637) 90%,
    var(--color-accent-soft, var(--color-accent, #d4ab18)) 10%
  );
  outline-offset: 3px;
  transform: translateY(-2px);
  border-color: color-mix(
    in oklab,
    var(--color-primary, #1b3637) 90%,
    var(--color-accent-soft, var(--color-accent, #d4ab18)) 10%
  );
  box-shadow: var(--shadow-md, 0 18px 40px rgb(15 23 42 / 0.14));
}

/* ICON BLOCK
   ------------------------------------------------------------------ */

.cat__icon {
  width: 3.25rem;
  height: 3.25rem;
  border-radius: var(--radius-lg);
  display: grid;
  place-items: center;
  background: var(--card-icon-bg);
  box-shadow: inset 0 0 0 1px
    color-mix(
      in oklab,
      var(--card-border-color) 62%,
      var(--color-border-subtle, #e5e7eb)
    );
  overflow: hidden;
}

.cat__icon svg,
.cat__icon img {
  display: block;
  width: 1.7rem;
  height: 1.7rem;
}

.cat__link:hover .cat__icon,
.cat__link:focus-visible .cat__icon {
  background: color-mix(
    in oklab,
    var(--card-icon-bg) 76%,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 24%
  );
}

/* CARD BODY
   ------------------------------------------------------------------ */

.cat__body {
  display: grid;
  gap: 0.375rem;
  min-height: 0;
}

.cat__title {
  margin: 0;
  font-weight: 700;
  font-size: var(--fs-lg);
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: color-mix(
    in oklab,
    var(--color-primary-strong, var(--color-primary, #1b3637)) 75%,
    var(--color-text, #020617)
  );
}

@media (min-width: 1024px) {
  .cat__title {
    font-size: var(--fs-xl);
  }
}

.cat__desc {
  margin: 0;
  font-size: var(--fs-sm);
  color: var(--color-muted, #6b7280);
}

/* COUNT CHIP
   ------------------------------------------------------------------ */

.cat__count {
  margin-top: 0.125rem;
  display: inline-block;
  font-size: var(--fs-xs);
  /* Compact pill: no aggressive tracking or forced uppercase */
  letter-spacing: normal;
  text-transform: none;
  padding-inline: var(--space-1);
  padding-block: 1px;
  border-radius: var(--radius-lg);

  background: color-mix(
    in oklab,
    var(--color-surface-alt, #f9fafb) 90%,
    var(--color-primary-soft, var(--color-primary, #1b3637)) 10%
  );
  border: 1px solid
    color-mix(
      in oklab,
      var(--color-primary-soft, var(--color-primary, #1b3637)) 40%,
      var(--color-border-subtle, #e5e7eb)
    );
  color: color-mix(
    in oklab,
    var(--color-primary-strong, var(--color-primary, #1b3637)) 70%,
    var(--color-muted, #6b7280)
  );
}

/* CHEVRON
   ------------------------------------------------------------------ */

.cat__chev {
  font-size: var(--fs-lg);
  line-height: 1;
  justify-self: end;
  color: var(--color-muted, #6b7280);
  transition:
    transform 0.16s ease,
    color 0.16s ease;
}

.cat__link:hover .cat__chev,
.cat__link:focus-visible .cat__chev {
  transform: translateX(4px);
  color: var(--color-primary, #1b3637);
}

/* REDUCED MOTION
   ------------------------------------------------------------------ */

@media (prefers-reduced-motion: reduce) {
  .cat__link,
  .cat__chev,
  .cat__icon,
  .cat__title {
    transition: none;
  }
}

---
// File: src/components/blog/compose/BlogHero/index.astro
/**
 * BlogHero â€” mobile-first hero with dual CTAs.
 * Fix Plan 148.1: remove badge/statline, show image in full.
 * Fix Plan 155: stop per-component global @imports; BaseLayout links src/styles/index.css once.
 */

export interface Cover { src: string; alt?: string; width?: number; height?: number }
export interface Props {
  title: string
  sub?: string
  primaryHref?: string
  primaryLabel?: string
  secondaryHref?: string
  secondaryLabel?: string
  cover?: Cover | null
}

const {
  title,
  sub = "",
  primaryHref = "/contact/",
  primaryLabel = "Get Professional CV Help",
  secondaryHref = "/blog/",
  secondaryLabel = "Read Latest",
  cover = null,
} = Astro.props as Props

// Local component CSS only
import css from "./BlogHero.css?url"
---
<link rel="stylesheet" href={css} />

<section class="bloghero" data-section="blog-hero" aria-label="Blog hero">
  <div class="container bloghero__wrap">
    <div class="bloghero__copy">
      <h1 class="bloghero__title h1">{title}</h1>
      {sub && <p id="bloghero-dek" class="bloghero__sub">{sub}</p>}

      <div class="bloghero__ctas">
        <a
          href={primaryHref}
          class="btn btn-primary"
          data-cta="bloghero-primary"
          aria-describedby={sub ? "bloghero-dek" : undefined}
        >
          {primaryLabel}
        </a>
        <a
          href={secondaryHref}
          class="btn btn-accent"
          data-cta="bloghero-secondary"
          aria-describedby={sub ? "bloghero-dek" : undefined}
        >
          {secondaryLabel}
        </a>
      </div>
    </div>

    {/* Media pane: image if provided, otherwise decorative fallback */}
    <figure class="bloghero__media" aria-hidden="true">
      {cover?.src ? (
        <img
          src={cover.src}
          alt={cover.alt ?? ""}
          width={cover.width ?? 960}
          height={cover.height ?? 720}
          loading="eager"
          decoding="async"
        />
      ) : (
        <div class="bloghero__fallback">
          <span class="ring ring--lg"></span>
          <span class="ring ring--sm"></span>
        </div>
      )}
    </figure>
  </div>
</section>

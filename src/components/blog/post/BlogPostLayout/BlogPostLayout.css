/*
 * File: src/components/blog/post/BlogPostLayout/BlogPostLayout.css
 * Premium single-post layout shell for CVWriting.co.ke
 * - Token-driven, mobile-first
 * - Enforces a single reading width for hero/body/slices
 * - Lets the related rail expand to full blog container width
 */

@import "../../../../styles/tokens.css";
@import "../../../../styles/typography.css";

/* Root article wrapper ----------------------------------------------------- */

.blog-post-layout {
  padding-block: clamp(var(--space-8), 6vw, var(--space-10));
  background-color: var(--color-surface, #ffffff);

  /* Base reading width for all core content bands (hero, body, etc.) */
  --blog-post-content-max-width: 74ch;
}

/* Header stack: breadcrumbs + hero + media + intro + share ----------------- */

.blog-post-layout__header {
  padding-block-end: clamp(var(--space-6), 4vw, var(--space-8));
  border-bottom: 1px solid
    color-mix(
      in oklab,
      var(--color-border-subtle, #e5e7eb) 92%,
      transparent
    );
  background-color: var(--color-surface, #ffffff);
}

.blog-post-layout__header > .container {
  max-width: min(
    var(--container-max, 72rem),
    var(--blog-post-content-max-width)
  );
  margin-inline: auto;
}

.blog-post-layout__header .stack {
  gap: clamp(var(--space-3), 2vw, var(--space-4));
}

/* Ensure breadcrumbs sit compactly above hero */
.blog-post-layout__header .breadcrumbs {
  margin-block-end: var(--space-1);
}

/* Share band inside the header --------------------------------------------- */

.blog-post-layout__header .post__shareSection {
  /* Override global spacing so the band feels attached to the hero */
  margin-block-start: clamp(var(--space-4), 3vw, var(--space-6));
  margin-block-end: 0;
}

/* Body band ---------------------------------------------------------------- */

.blog-post-layout__body {
  padding-block: clamp(var(--space-7), 5vw, var(--space-10));
  background-color: var(--color-surface, #ffffff);
}

.blog-post-layout__body > .container {
  max-width: min(
    var(--container-max, 72rem),
    var(--blog-post-content-max-width)
  );
  margin-inline: auto;
}

.blog-post-layout__body-inner {
  display: block;
}

.blog-post-layout__content {
  max-width: 100%;
}

/* TOC band ----------------------------------------------------------------- */

.blog-post-layout__toc {
  padding-block: clamp(var(--space-4), 3vw, var(--space-6));
  border-bottom: 1px solid
    color-mix(
      in oklab,
      var(--color-border-subtle, #e5e7eb) 92%,
      transparent
    );
  background-color: var(--color-surface-alt, #f9fafb);
}

.blog-post-layout__toc > .container {
  max-width: min(
    var(--container-max, 72rem),
    var(--blog-post-content-max-width)
  );
  margin-inline: auto;
}

/* Checklist band ----------------------------------------------------------- */

.blog-post-layout__checklist {
  padding-block: clamp(var(--space-7), 5vw, var(--space-9));
  background-color: color-mix(
    in oklab,
    var(--color-surface-alt, #f9fafb) 90%,
    var(--color-primary-soft, #1b3637) 10%
  );
  border-top: 1px solid
    color-mix(
      in oklab,
      var(--color-border-subtle, #e5e7eb) 92%,
      transparent
    );
}

.blog-post-layout__checklist > .container {
  max-width: min(
    var(--container-max, 72rem),
    var(--blog-post-content-max-width)
  );
  margin-inline: auto;
}

/* Inline offer band -------------------------------------------------------- */

.blog-post-layout__inline-offer {
  padding-block: clamp(var(--space-7), 5vw, var(--space-9));
  background-color: var(--color-surface, #ffffff);
  border-top: 1px solid
    color-mix(
      in oklab,
      var(--color-border-subtle, #e5e7eb) 92%,
      transparent
    );
}

.blog-post-layout__inline-offer > .container {
  max-width: min(
    var(--container-max, 72rem),
    var(--blog-post-content-max-width)
  );
  margin-inline: auto;
}

/* Social proof band -------------------------------------------------------- */

.blog-post-layout__social-proof {
  padding-block: clamp(var(--space-7), 5vw, var(--space-9));
  background-color: var(--color-surface-alt, #f9fafb);
  border-top: 1px solid
    color-mix(
      in oklab,
      var(--color-border-subtle, #e5e7eb) 92%,
      transparent
    );
}

.blog-post-layout__social-proof > .container {
  max-width: min(
    var(--container-max, 72rem),
    var(--blog-post-content-max-width)
  );
  margin-inline: auto;
}

/* FAQ band ----------------------------------------------------------------- */

.blog-post-layout__faq {
  padding-block: clamp(var(--space-7), 5vw, var(--space-9));
  background-color: var(--color-surface, #ffffff);
  border-top: 1px solid
    color-mix(
      in oklab,
      var(--color-border-subtle, #e5e7eb) 92%,
      transparent
    );
}

.blog-post-layout__faq > .container {
  max-width: min(
    var(--container-max, 72rem),
    var(--blog-post-content-max-width)
  );
  margin-inline: auto;
}

/* Final CTA band ----------------------------------------------------------- */

.blog-post-layout__final-cta {
  padding-block: clamp(var(--space-7), 5vw, var(--space-9));
  background-color: var(--color-surface, #ffffff);
  border-top: 1px solid
    color-mix(
      in oklab,
      var(--color-border-subtle, #e5e7eb) 92%,
      transparent
    );
}

.blog-post-layout__final-cta > .container {
  max-width: min(
    var(--container-max, 72rem),
    var(--blog-post-content-max-width)
  );
  margin-inline: auto;
}

/* Related rail band (PostFeedLatest) -------------------------------------- */

.blog-post-layout__related {
  padding-block: clamp(var(--space-8), 6vw, var(--space-12));
  background-color: color-mix(
    in oklab,
    var(--color-surface-alt, #f9fafb) 94%,
    var(--color-primary-soft, #1b3637) 6%
  );
  border-top: 1px solid
    color-mix(
      in oklab,
      var(--color-border-subtle, #e5e7eb) 90%,
      transparent
    );
}

/*
 * IMPORTANT:
 * - We intentionally do NOT constrain the inner PostFeedLatest container here.
 * - PostFeedLatest already uses `.container` and its own grid, so this band
 *   becomes a full-width, premium “continue your learning” rail.
 */

/* Preset-specific tweaks --------------------------------------------------- */

.blog-post-layout[data-layout-preset="editorialArticle"]
  .blog-post-layout__checklist {
  background-color: var(--color-surface, #ffffff);
}

.blog-post-layout[data-layout-preset="shortInsight"] .blog-post-layout__body {
  padding-block-end: clamp(var(--space-6), 4vw, var(--space-8));
}

/* Motion / reduced motion -------------------------------------------------- */

@media (prefers-reduced-motion: reduce) {
  .blog-post-layout *,
  .blog-post-layout *::before,
  .blog-post-layout *::after {
    scroll-behavior: auto !important;
    transition: none !important;
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
  }
}

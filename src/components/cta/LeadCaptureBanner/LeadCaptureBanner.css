/* LeadCaptureBanner – mobile-first CTA band, token-driven, zero JS */
/* Matches src/components/cta/LeadCaptureBanner/index.astro */

/* ===== Band (full-bleed background) ===== */

[data-section="lead-cta"] {
  padding-block: var(--space-8);
  background: color-mix(
    in oklab,
    var(--color-surface-alt, var(--color-surface)) 94%,
    var(--color-primary-soft, var(--color-primary)) 6%
  );
  /* Softened, premium outer shell */
  border-radius: var(--radius-xl);
  overflow: hidden;
}

/* ===== Inner card ===== */

.lead {
  position: relative;
  margin-inline: auto;
  max-width: var(--container-max);
  padding: var(--space-6);
  border-radius: var(--radius-xl);
  background: color-mix(
    in oklab,
    var(--color-surface) 90%,
    var(--color-primary-soft, var(--color-primary)) 10%
  );
  border: 1px solid
    color-mix(in oklab, var(--color-primary) 18%, var(--color-surface) 82%);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  transition:
    transform 0.15s ease,
    box-shadow 0.15s ease,
    border-color 0.15s ease,
    background-color 0.15s ease;
}

/* Subtle lift on hover for pointer devices */
@media (hover: hover) and (pointer: fine) {
  .lead:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    border-color: var(--color-accent);
    background: color-mix(
      in oklab,
      var(--color-surface) 86%,
      var(--color-primary-soft, var(--color-primary)) 14%
    );
  }
}

/* Top accent bar for subtle brand emphasis */
.lead::before {
  content: "";
  position: absolute;
  inset-inline: var(--space-6);
  top: 0;
  height: 3px;
  border-radius: var(--radius-md);
  background: linear-gradient(
    90deg,
    color-mix(in oklab, var(--color-primary) 65%, transparent),
    color-mix(in oklab, var(--color-accent) 35%, transparent)
  );
}

/* ===== Layout ===== */

.lead__inner {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

/* Body copy */
.lead__body {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

/* Actions – stacked on mobile, full-width CTA */
.lead__actions {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  align-items: stretch;
}

/* Layout only: allow the CTA to fill the actions column on narrow viewports,
   while leaving all visual styling to the Button component. */
.lead__actions :where(a.btn:not(.btn-link), button.btn:not(.btn-link)) {
  inline-size: 100%;
}

/* ===== Typography ===== */

.lead__title {
  margin: 0;
  font-family: var(--font-sans);
  font-weight: 700;
  font-size: var(--fs-2xl);
  line-height: 1.2;
  color: var(--color-primary);
}

.lead__sub {
  margin: 0;
  font-family: var(--font-sans);
  font-size: var(--fs-base);
  line-height: 1.5;
  color: var(--color-text);
  max-width: 52ch;
}

/* ===== sm ≥ 640px – tighten spacing, inline CTA where possible ===== */

@media (min-width: 640px) {
  [data-section="lead-cta"] {
    padding-block: var(--space-10);
  }

  .lead {
    padding: var(--space-6) var(--space-7);
  }

  .lead__title {
    font-size: var(--fs-3xl);
  }

  .lead__actions {
    flex-direction: row;
    justify-content: flex-start;
  }

  .lead__actions :where(a.btn, button.btn) {
    inline-size: auto;
  }
}

/* ===== md ≥ 768px – switch to two-column layout ===== */

@media (min-width: 768px) {
  .lead__inner {
    display: grid;
    grid-template-columns: minmax(0, 2.25fr) minmax(0, 1fr);
    align-items: center;
    gap: var(--space-5);
  }

  .lead__actions {
    justify-content: flex-end;
    align-items: flex-end;
  }

  .lead__sub {
    max-width: 60ch;
  }
}

/* ===== lg ≥ 1024px – more breathing room, stronger heading ===== */

@media (min-width: 1024px) {
  .lead {
    padding: var(--space-7) var(--space-8);
  }

  .lead__title {
    font-size: var(--fs-4xl);
  }
}

/* ===== xl ≥ 1280px – keep density controlled ===== */

@media (min-width: 1280px) {
  [data-section="lead-cta"] {
    padding-block: var(--space-12);
  }

  .lead__inner {
    gap: var(--space-6);
  }
}

/* ===== 2xl ≥ 1536px – no extra density, just stable layout ===== */

@media (min-width: 1536px) {
  .lead {
    max-width: calc(var(--container-max) - 2 * var(--space-4));
  }
}

/* ===== Reduced motion ===== */

@media (prefers-reduced-motion: reduce) {
  .lead {
    scroll-behavior: auto;
    transition: none;
  }
}
